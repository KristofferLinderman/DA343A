package laboration12;

import java.net.DatagramPacket;
import java.net.Socket;

public class QuizClient {

	private Socket socket;
	private Thread client;
	private String ipAddress;
	private boolean runThread;
	private int port;

	public QuizClient() {
		runThread = true;
		client = new Thread(new Listener());
	}

	public void setIPAddress(String ip) {
		ipAddress = ip;
	}

	public void setPort(int port) {
		this.port = port;
	}

	private class Listener extends Thread {
		public void run() {
			DatagramPacket packet;
			byte[] readBuffer = new byte[1024];
			String result;
			while (runThread) {
				try {
					packet = new DatagramPacket(readBuffer, readBuffer.length);
					socket.receive(packet);
					result = new String(packet.getData(), 0, packet.getLength());
					panel.setResult(result);
				} catch (Exception e) {
					break;
				}
			}
		}
	}

}
